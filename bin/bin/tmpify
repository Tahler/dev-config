#!/usr/bin/env python

import argparse
import os

def add_tilde(filename):
    os.rename(filename, filename + '~')

def rm_tilde(filename):
    os.rename(filename, filename[:-1])

def main(filename):
    file_ends_with_tilde = filename[-1:] == '~'
    if file_ends_with_tilde:
        rm_tilde(filename)
    else:
        add_tilde(filename)

if __name__ == "__main__":
    parser = argparse.ArgumentParser()
    parser.add_argument(
            'filename',
            type=str,
            help='the file to be "temp\'d" or "un-temp\'d"')
    args = parser.parse_args()
    main(args.filename)

